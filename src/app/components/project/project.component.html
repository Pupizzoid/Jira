<div class="project">
  <a class="project__nav-link" routerLink="/dashboard/projects">
    <mat-icon aria-hidden="false" aria-label="icon">west</mat-icon>
    <span>Back to all projects</span>
  </a>
  <h2>Project name: {{this.projectData.title}}</h2>
  <div class="project__nav">
    <button matTooltip="Issues, which assigned to you" mat-stroked-button color="warn" (click)="handleGetMyTask()" color="warn">My Issues</button>
    <button matTooltip="See all issues" mat-stroked-button color="warn" (click)="handleAllTasks()" color="accent">All Issues</button>
  </div>
</div>

<div class="tasks-board">
  <div class="example-container">
    <h3 class="example-title">Todo</h3>

    <div
      cdkDropList
      id='todo'
      #todoList="cdkDropList"
      [cdkDropListData]="todo"
      [cdkDropListConnectedTo]="[progressList, reviewList, doneList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <app-task-card *ngFor="let item of todo" cdkDrag [item]='item' (click)='openTask(item)'></app-task-card>
    </div>
  </div>

  <div class="example-container">
    <h3 class="example-title">Progress</h3>

    <div
      cdkDropList
      id='progress'
      #progressList="cdkDropList"
      [cdkDropListData]="progress"
      [cdkDropListConnectedTo]="[todoList, reviewList, doneList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <app-task-card *ngFor="let item of progress" cdkDrag [item]='item' (click)='openTask(item)'></app-task-card>
    </div>
  </div>

  <div class="example-container">
    <h3 class="example-title">Review</h3>

    <div
      cdkDropList
      id='review'
      #reviewList="cdkDropList"
      [cdkDropListData]="review"
      [cdkDropListConnectedTo]="[doneList, progressList, todoList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)"
      >
      <app-task-card *ngFor="let item of review" cdkDrag [item]='item' (click)='openTask(item)'></app-task-card>
    </div>
  </div>

  <div class="example-container">
    <h3 class="example-title">Done</h3>

    <div
      cdkDropList
      id='done'
      #doneList="cdkDropList"
      [cdkDropListData]="done"
      [cdkDropListConnectedTo]="[progressList, todoList, reviewList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <app-task-card *ngFor="let item of done" cdkDrag [item]='item' (click)='openTask(item)'></app-task-card>
    </div>
  </div>
  <button mat-fab color="primary" aria-label="Example icon button with a delete icon" matTooltip="Create new Issue" class="project__add-btn" (click)="openTaskForm()">
    <mat-icon>add</mat-icon>
  </button>
</div>
<router-outlet></router-outlet>
